{"componentChunkName":"component---src-templates-blog-post-js","path":"/2021-10-09-lazy-promises-final/","result":{"data":{"site":{"siteMetadata":{"title":"CDS - Creative Data Science"}},"markdownRemark":{"id":"b601f514-164d-5f96-af9a-449adeec534a","excerpt":"I am excited by the recent article Promises Are Made to Be Broken about the authors’ efforts to migrate ’s lazy evaluation to strict semantics.  was the first…","html":"<p style=\"text-align:center;\"><img src=\"./imgs/sloth.jpg\" width=\"400\" align=\"center\"/></p>\n<p>I am excited by the recent article <a href=\"http://aviral.io/static/pdfs/promises-are-made-to-be-broken.pdf\">Promises Are Made to Be Broken</a> about the authors’ efforts to migrate <code class=\"language-text\">R</code>’s lazy evaluation to strict semantics.</p>\n<p><code class=\"language-text\">R</code> was the first programming language I learned (started about 10 years ago) and genuinely feel that its flexibility to execute functional programming patterns has greatly improved my productivity. While I’ve often taken advantage of a variety of lazy evaluation benefits and as mentioned in the article risks I’ve generally found <code class=\"language-text\">R</code>’s flexibility predictable and greatly appreciated.</p>\n<p>Many of my favorite <code class=\"language-text\">R</code> packages like <code class=\"language-text\">dplyr</code> also leverage lazy evaluation and I have rarely consider the impact of lazy semantics or that ‘arguments are suspended computations that are evaluated if\nand when they are needed’. While I rarely use meta-programming patterns I have found anonymous function arguments passed as <code class=\"language-text\">...</code> very useful.</p>\n<p>I’ve generally found that using <code class=\"language-text\">...</code> works as expected. For example, take the following tests for our custom function <code class=\"language-text\">foo</code>.</p>\n<div class=\"gatsby-highlight\" data-language=\"r\"><pre class=\"language-r\"><code class=\"language-r\">foo <span class=\"token operator\">&lt;-</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span>bar <span class=\"token operator\">=</span> <span class=\"token string\">'foo'</span><span class=\"token punctuation\">,</span> <span class=\"token ellipsis\">...</span><span class=\"token punctuation\">,</span> fizz <span class=\"token operator\">=</span> <span class=\"token string\">'buzz'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  \n  c<span class=\"token punctuation\">(</span>as.list<span class=\"token punctuation\">(</span>environment<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> list<span class=\"token punctuation\">(</span><span class=\"token ellipsis\">...</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n\nfoo<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">## $bar\n## [1] \"foo\"\n## \n## $fizz\n## [1] \"buzz\"</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"r\"><pre class=\"language-r\"><code class=\"language-r\">foo<span class=\"token punctuation\">(</span>bazz<span class=\"token operator\">=</span>rnorm<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">## $bar\n## [1] \"foo\"\n## \n## $fizz\n## [1] \"buzz\"\n## \n## $bazz\n## [1] 0.6520186</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"r\"><pre class=\"language-r\"><code class=\"language-r\">foo<span class=\"token punctuation\">(</span>bazz<span class=\"token operator\">=</span>rnorm<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>bar<span class=\"token operator\">=</span><span class=\"token string\">'bazz'</span><span class=\"token punctuation\">,</span>fizz<span class=\"token operator\">=</span>rnorm<span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">## $bar\n## [1] \"bazz\"\n## \n## $fizz\n## [1] -0.5202518 -2.2660911\n## \n## $bazz\n## [1] 0.711274</code></pre></div>\n<p>Meta-programming example from the paper.</p>\n<div class=\"gatsby-highlight\" data-language=\"r\"><pre class=\"language-r\"><code class=\"language-r\">f <span class=\"token operator\">&lt;-</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">,</span>b<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\nprint<span class=\"token punctuation\">(</span>deparse<span class=\"token punctuation\">(</span>substitute<span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\nx <span class=\"token operator\">&lt;-</span> eval<span class=\"token punctuation\">(</span>substitute<span class=\"token punctuation\">(</span>b<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\nx<span class=\"token operator\">+</span>a\n<span class=\"token punctuation\">}</span>\n\nf<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token operator\">+</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token number\">3</span><span class=\"token operator\">+</span><span class=\"token number\">4</span><span class=\"token punctuation\">)</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">## [1] \"1 + 2\"</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">## [1] 10</code></pre></div>\n<p>I am excited to see where the authous’ goals to ‘to migrate R\nprograms to a strict-by-default, lazy-on-demand semantics.’ takes <code class=\"language-text\">R</code>.</p>","frontmatter":{"title":"Making R strict-by-default and lazy-on-demand","date":"October 09, 2021","description":null,"tags":["programming","R"]}},"more":{"nodes":[{"fields":{"slug":"/2021-10-09-lazy-promises-final/"},"frontmatter":{"date":"October 09, 2021","title":"Making R strict-by-default and lazy-on-demand","description":null,"tags":["programming","R"],"thumbnail":"https://github.com/CreativeDataSolutions/cds.blog/blob/gh-pages/images/sloth.jpg"}},{"fields":{"slug":"/2021-07-1-getting-started-again-final/"},"frontmatter":{"date":"July 01, 2021","title":"Publication record in review and onto new beginings","description":null,"tags":["Google scholar","deep learning","R"],"thumbnail":"/images/getting-started-thumbnail.png"}}]},"previous":{"fields":{"slug":"/2021-07-1-getting-started-again-final/"},"frontmatter":{"title":"Publication record in review and onto new beginings"}},"next":null},"pageContext":{"id":"b601f514-164d-5f96-af9a-449adeec534a","previousPostId":"dd6b26d4-c5a7-52e4-94ae-77fed39d482a","nextPostId":null}},"staticQueryHashes":["1713152521","2841359383"]}