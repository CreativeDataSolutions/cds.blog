{"componentChunkName":"component---src-templates-blog-post-js","path":"/2021-10-09-lazy-promises-final/","result":{"data":{"site":{"siteMetadata":{"title":"CDS - Creative Data Science"}},"markdownRemark":{"id":"16ecc8d6-568e-52e4-9c0c-97e5c7bd3545","excerpt":"I am excited by the recent article Promises Are Made to Be Broken about the authors’ efforts to migrate ’s lazy evaluation to strict semantics.  was the first…","html":"<p style=\"text-align:center;\"><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/cds.blog/static/bcb728eb7d71d731de138d7dd875b7f8/6af66/sloth.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEfUlEQVQ4yxWT+XMadRjG9z9xnP7SWltrW2s0bbWmtcbmKIGEPb67XIGwF+wBLIQrpBDIBYRwJRDYZVkIibmTtrTJqNFOa0bHn+yM4/i/iL+97w+fed7nfeaBfJvjXNPIa2hwB4vtofIJ13wtvt2d/rEdilZwYQvnN1H/Poh18cAhzjQxqoEKGs43zKEyBonqhEuFhSYS3TXVOvzzxtz787W/T1O/v0xIKu6sY6SKMBosdFChgzGt3ooyNTywblldGIVcddjdQMRNIC3puor3VWexVZSmye92amxk00rJ6FQNdlRhVkHENuZuYOwGYNdxfx6fy433YIRTEY8GoiumVMiy/Izt7mQvjrLpBOJvAbEN6Brq3IBdDdjXAVwDUDXAyijbGxoEJFQwXkEFGZQ0L0eOOW1PQyL6Sp3d3heDx1jogBDagFFgUUP8HdzVBE4FIxWMUYGzgUG+Cs7LqLdGzOdop/n7eMR+0F4628uU2u7ILjH/0ho7NgW2QOqFOXfumN619B5GNf6HmQaAfHWCraFixRSN203ww1Kaf3+x89fbrbrMJ7at6RN79sy2/guZaVulRZ2wYpDalp6+S8XcKga5KljPFV8xeaaBl9HVc0KnMnO2XzhoJcp77syhvX7KxZMYaRkKeiwsPQGzj0XFxKmEu6dMV1GqhnAVPDxrbhd5tSC+3lv5+aTwgxxrHYZXt5lSkQ7QY7mY6e3pxtlxWaBHbTOj0qaNlQEktgCvYfQGUlhzbRX54gLdqYSVvP/sMLes8Okq5yXHYN1dfnIU1T9G9AOcddCfRKW2lVUA5G2BwC7h0/BikQow+ogAH7WS+83km+5aflVIzNgfP7iNjD0QSMPnt67093106/olTxAOa05WwaFeaJyGJhRrMTUJ6+7PeDF5RdDKofPnpSNljrPpvrxz9dbNy/f6bzz65rOv+j959PWncxnWX7W7ZALiW4DZQFYKjoUAqh/qn5XAvhI+0ebOj/O5JDfjtVLmkXt9125cv3Tt6ocfX/nAx8ErbYmuAqaOQ4KKBfPE5roYYg13+666HcOn2wmt4H29m22WImoxlou7E5LVjj/54s7l0cG+ckF8ppCuGi5WrJBrwZhJ0KUkl5o28+RTjtKX5tm1Jf5dtyDnvKUl6bCdPmjEuzvL6MQD0jJcLnkj1UmfbIvl7JCNG3ZPGmoZj7rqmfKMJ5eoIAc87MRWPfpMIpymke5eulMP1wuChzX0bo5k7d6a2S87kkkA8dQQZRn69Wj5p+2kO4XSCYQjx91TugBn5Cl9ItyrHsU6RrSqP+rDeQkWKhZONoVyk7PCKJQNYyHB+OZo8d/f1HyaC4cnJY5wkwZUP2AFg+nElMgYaIcu7MWB8RGftjB1wG9YgiEjidyHyrNEgB6+OJ7/56L57kWpkBJmAg5JMAksYsYGLfgTm2lYdMESa0Ssg+6qmVUIfhkNMcO6kdtQJ0uxxMPqouPP0/wfZ5X1jDQXpT0cmI+TmXlyyjaCjH8b8RHs1BgZR1xNE7UGOH5IN3BTb77/HwgJPkqj2vW/AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"sloth\" title=\"sloth\" src=\"/cds.blog/static/bcb728eb7d71d731de138d7dd875b7f8/f058b/sloth.png\" srcset=\"/cds.blog/static/bcb728eb7d71d731de138d7dd875b7f8/c26ae/sloth.png 158w,\n/cds.blog/static/bcb728eb7d71d731de138d7dd875b7f8/6bdcf/sloth.png 315w,\n/cds.blog/static/bcb728eb7d71d731de138d7dd875b7f8/f058b/sloth.png 630w,\n/cds.blog/static/bcb728eb7d71d731de138d7dd875b7f8/6af66/sloth.png 640w\" sizes=\"(max-width: 630px) 100vw, 630px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\">\n  </a>\n    </span></p>\n<p>I am excited by the recent article <a href=\"http://aviral.io/static/pdfs/promises-are-made-to-be-broken.pdf\">Promises Are Made to Be Broken</a> about the authors’ efforts to migrate <code class=\"language-text\">R</code>’s lazy evaluation to strict semantics.</p>\n<p><code class=\"language-text\">R</code> was the first programming language I learned (started about 10 years ago) and genuinely feel that its flexibility to execute functional programming patterns has greatly improved my productivity. While I’ve often taken advantage of a variety of lazy evaluation benefits and as mentioned in the article risks I’ve generally found <code class=\"language-text\">R</code>’s flexibility predictable and greatly appreciated.</p>\n<p>Many of my favorite <code class=\"language-text\">R</code> packages like <code class=\"language-text\">dplyr</code> also leverage lazy evaluation and I have rarely consider the impact of lazy semantics or that ‘arguments are suspended computations that are evaluated if\nand when they are needed’. While I rarely use meta-programming patterns I have found anonymous function arguments passed as <code class=\"language-text\">...</code> very useful.</p>\n<p>I’ve generally found that using <code class=\"language-text\">...</code> works as expected. For example, take the following tests for our custom function <code class=\"language-text\">foo</code>.</p>\n<div class=\"gatsby-highlight\" data-language=\"r\"><pre class=\"language-r\"><code class=\"language-r\">foo <span class=\"token operator\">&lt;-</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span>bar <span class=\"token operator\">=</span> <span class=\"token string\">'foo'</span><span class=\"token punctuation\">,</span> <span class=\"token ellipsis\">...</span><span class=\"token punctuation\">,</span> fizz <span class=\"token operator\">=</span> <span class=\"token string\">'buzz'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  \n  c<span class=\"token punctuation\">(</span>as.list<span class=\"token punctuation\">(</span>environment<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> list<span class=\"token punctuation\">(</span><span class=\"token ellipsis\">...</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n\nfoo<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">## $bar\n## [1] \"foo\"\n## \n## $fizz\n## [1] \"buzz\"</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"r\"><pre class=\"language-r\"><code class=\"language-r\">foo<span class=\"token punctuation\">(</span>bazz<span class=\"token operator\">=</span>rnorm<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">## $bar\n## [1] \"foo\"\n## \n## $fizz\n## [1] \"buzz\"\n## \n## $bazz\n## [1] 0.6520186</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"r\"><pre class=\"language-r\"><code class=\"language-r\">foo<span class=\"token punctuation\">(</span>bazz<span class=\"token operator\">=</span>rnorm<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>bar<span class=\"token operator\">=</span><span class=\"token string\">'bazz'</span><span class=\"token punctuation\">,</span>fizz<span class=\"token operator\">=</span>rnorm<span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">## $bar\n## [1] \"bazz\"\n## \n## $fizz\n## [1] -0.5202518 -2.2660911\n## \n## $bazz\n## [1] 0.711274</code></pre></div>\n<p>Meta-programming example from the paper.</p>\n<div class=\"gatsby-highlight\" data-language=\"r\"><pre class=\"language-r\"><code class=\"language-r\">f <span class=\"token operator\">&lt;-</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">,</span>b<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\nprint<span class=\"token punctuation\">(</span>deparse<span class=\"token punctuation\">(</span>substitute<span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\nx <span class=\"token operator\">&lt;-</span> eval<span class=\"token punctuation\">(</span>substitute<span class=\"token punctuation\">(</span>b<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\nx<span class=\"token operator\">+</span>a\n<span class=\"token punctuation\">}</span>\n\nf<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token operator\">+</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token number\">3</span><span class=\"token operator\">+</span><span class=\"token number\">4</span><span class=\"token punctuation\">)</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">## [1] \"1 + 2\"</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">## [1] 10</code></pre></div>\n<p>I am excited to see where the authous’ goals to ‘to migrate R\nprograms to a strict-by-default, lazy-on-demand semantics.’ takes <code class=\"language-text\">R</code>.</p>","frontmatter":{"title":"Making R strict-by-default and lazy-on-demand","date":"October 09, 2021","description":null,"tags":["programming","R"]}},"more":{"nodes":[{"fields":{"slug":"/network_mapping_101/"},"frontmatter":{"date":"November 30, 2021","title":"Network mapping 101 hands-on course and DAVe in review","description":null,"tags":["R","network analysis","network mapping","data visualization","multivariate analysis","machine learning","preprocessing","statistical analysis","clustering"],"thumbnail":"/images/network_mapping_101_thumbnail.png"}},{"fields":{"slug":"/2021-10-26-pathway-enriched-mapped-networks/"},"frontmatter":{"date":"October 26, 2021","title":"Pathway enrichment-based network mapping to visualize metabolite evidence for associations with disease","description":null,"tags":["R","network analysis","network mapping","data visualization","pathways"],"thumbnail":"/images/pathway_network.png"}},{"fields":{"slug":"/2021-10-21-hyper-edge-comparions-final/"},"frontmatter":{"date":"October 21, 2021","title":"Using network hyper edges to encode complex experimental designs","description":null,"tags":["programming","R","network analysis","network mapping","data visualization"],"thumbnail":"/images/hyper-edge-comparisons.png"}}]},"previous":{"fields":{"slug":"/2021-07-1-getting-started-again-final/"},"frontmatter":{"title":"Publication record in review and onto new beginings"}},"next":{"fields":{"slug":"/2021-10-21-hyper-edge-comparions-final/"},"frontmatter":{"title":"Using network hyper edges to encode complex experimental designs"}}},"pageContext":{"id":"16ecc8d6-568e-52e4-9c0c-97e5c7bd3545","previousPostId":"ea2df33f-bd7c-5abc-8a29-f2bae796c4e0","nextPostId":"0ab66ed2-6c60-59eb-a442-dbc746493ffc"}},"staticQueryHashes":["1713152521","2841359383"]}